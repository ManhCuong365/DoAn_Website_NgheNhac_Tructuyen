<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Song</title>
    <link rel="stylesheet" href="/css/admin_page.css">
</head>

<body>
    <div class="nav_bar">
        <ul class="menu_list">
            <li class="item"><a href="/display-alluser">User</a></li>
            <li class="item"><a href="/display-allalbum">Album</a></li>
            <li class="item"><a href="/display-allsong">Song</a></li>
            <li class="item"><a href="#">Artist</a></li>
            <li class="item"><a href="#">Favourite</a></li>
        </ul>
    </div>

    <h1 class="create-song-title">Create Song</h1>

    <form action="/post-song" method="POST" enctype="multipart/form-data" class="create-song-form">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required>

        <label for="artist">Artist:</label>
        <select name="artist_id" id="artist_id">
            <% if (typeof dataTable1 !== 'undefined' && dataTable1 && dataTable1.length) { %>
                <% dataTable1.forEach(artist => { %>
                    <option value="<%= artist.id %>"><%= artist.name %></option>
                <% }) %>
            <% } else { %>
                <option value="">No artists available</option>
            <% } %>
        </select>

        <label for="album">Album:</label>
        <select name="album_id" id="album_id">
            <% if (typeof dataTable !== 'undefined' && dataTable && dataTable.length) { %>
                <% dataTable.forEach(album => { %>
                    <option value="<%= album.id %>"><%= album.title %></option>
                <% }) %>
            <% } else { %>
                <option value="">No albums available</option>
            <% } %>
        </select>

        <label for="release_date">Release Date:</label>
        <input type="text" id="release_date" name="release_date" required>

        <label for="imgUrl">Image URL (optional):</label>
        <input type="text" id="img" name="imgUrl">

        <label for="imgFile">Image File (optional):</label>
        <input type="file" name="imgFile" accept="image/*">

        <label for="Upload">Audio File:</label>
        <input type="file" name="file_url" accept="audio/*">

        <div style="margin-top:12px;">
            <button type="submit" class="create-song-submit">Create Song</button>
        </div>
    </form>

    <script src="/js/audio_player.js"></script>
</body>

</html>